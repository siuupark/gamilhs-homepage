<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>감일고등학교</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        header {
            background-color: #f8f9fa;
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .school-title {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
        }
        section {
            padding: 60px 0;
        }
        .term-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            padding: 1rem;
            justify-content: center;
        }
        .month-card {
            min-width: 320px;
            max-width: 340px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: left;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .month-card ul {
            list-style: none;
            padding-left: 0;
            margin-bottom: 0;
        }
        .month-card li {
            margin-bottom: 0.5rem;
            word-break: keep-all;
            line-height: 1.5;
        }
        .term-view {
            display: none;
        }
        .term-view.active {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            padding: 1rem;
            justify-content: center;
        }
        #meal-plan-section {
            margin-top: 3rem;
        }
        .meal-box {
            max-width: 500px;
            margin: 0 auto;
            padding: 1.5rem;
            border: 1px solid #dee2e6;
            border-radius: 0.75rem;
            background-color: #f8f9fa;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            font-size: 1rem;
            line-height: 1.6;
            text-align: left;
            white-space: pre-line; 
        }
        .calendar-header {
            position: relative;
            min-height: 3rem;
        }
        #dday-box {
            position: absolute;
            top: 0;
            left: 0;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            font-size: 1rem;
            font-weight: 500;
            color: #333;
            max-width: 240px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        #dday-box li::before {
            content: "📌 ";
        }
    </style>
</head>
<body>

<header>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid d-flex align-items-center justify-content-start position-relative">
            <a class="navbar-brand me-4" href="#">
                <img src="https://gamil-h.goegh.kr/images/web/gamil-h/sub/symbol_logo.png" alt="감일고등학교" width="130">
            </a>
            <div class="d-flex gap-3">
                <a href="#calendar-section" class="btn btn-outline-primary btn-lg">달력</a>
                <a href="#academic-schedule-section" class="btn btn-outline-primary btn-lg">학사일정</a>
                <a href="#meal-plan-section" class="btn btn-outline-primary btn-lg">급식표</a>
            </div>
            <div class="school-title">감일고등학교</div>
        </div>
    </nav>
</header>

<section id="calendar-section" class="container text-center">
    <div class="calendar-header position-relative text-center mb-4">
        <div id="dday-box" class="text-start">
            <ul id="dday-list" class="list-unstyled mb-0"></ul>
        </div>
        <h2 class="mb-0">📅 달력</h2>
    </div>

    <div class="d-flex justify-content-center">
        <iframe 
            src="https://calendar.google.com/calendar/embed?src=2bb2ed2c0d09568d287ff6ce49e2615db17d70324ffba46cbc15b7b2a61832f2%40group.calendar.google.com&ctz=Asia%2FSeoul" 
            style="border: 0; width: 100%; max-width: 1000px; height: 600px;" frameborder="0" scrolling="no">
        </iframe>
    </div>
</section>

<section id="academic-schedule-section" class="container text-center">
    <h2 class="mb-4">📘 학사일정</h2>
    <div class="mb-4">
        <select id="term-select" class="form-select w-auto mx-auto">
            <option value="term1">2025년 2~4월</option>
            <option value="term2">2025년 5~7월</option>
            <option value="term3">2025년 8~10월</option>
            <option value="term4">2025년 11~1월</option>
        </select>
    </div>

    <div id="term1" class="term-view active">
        <div class="month-card">
            <h5>2025년 2월</h5>
            <ul id="schedule-2025-02"></ul>
        </div>
        <div class="month-card">
            <h5>2025년 3월</h5>
            <ul id="schedule-2025-03"></ul>
        </div>
        <div class="month-card">
            <h5>2025년 4월</h5>
            <ul id="schedule-2025-04"></ul>
        </div>
    </div>
    <div id="term2" class="term-view">
        <div class="month-card">
            <h5>2025년 5월</h5>
            <ul id="schedule-2025-05"></ul>
        </div>
        <div class="month-card">
            <h5>2025년 6월</h5>
            <ul id="schedule-2025-06"></ul>
        </div>
        <div class="month-card">
            <h5>2025년 7월</h5>
            <ul id="schedule-2025-07"></ul>
        </div>
    </div>
    <div id="term3" class="term-view">
        <div class="month-card">
            <h5>2025년 8월</h5>
            <ul id="schedule-2025-08"></ul>
        </div>
        <div class="month-card">
            <h5>2025년 9월</h5>
            <ul id="schedule-2025-09"></ul>
        </div>
        <div class="month-card">
            <h5>2025년 10월</h5>
            <ul id="schedule-2025-10"></ul>
        </div>
    </div>
    <div id="term4" class="term-view">
        <div class="month-card">
            <h5>2025년 11월</h5>
            <ul id="schedule-2025-11"></ul>
        </div>
        <div class="month-card">
            <h5>2025년 12월</h5>
            <ul id="schedule-2025-12"></ul>
        </div>
        <div class="month-card">
            <h5>2026년 1월</h5>
            <ul id="schedule-2026-01"></ul>
        </div>
    </div>
</section>

<script>
    const scheduleData = {
        "2025-02": [ { "date": "2025.02.06", "event": "종업식" } ],
        "2025-03": [
            { "date": "2025.03.04", "event": "입학식" },
            { "date": "2025.03.19", "event": "학부모총회" },
            { "date": "2025.03.24 ~ 2025.03.26", "event": "1학년 수련회" },
            { "date": "2025.03.26", "event": "2,3학년 전국연합평가" }
        ],
        "2025-04": [
            { "date": "2025.04.09", "event": "학부모대상 대입설명회" },
            { "date": "2025.04.28 ~ 2025.05.01", "event": "1차 지필평가" }
        ],
        "2025-05": [
            { "date": "2025.04.28 ~ 2025.05.01", "event": "1차 지필평가" },
            { "date": "2025.05.08", "event": "고3 전국연합평가" },
            { "date": "2025.05.08 ~ 2025.05.10", "event": "고2 수학여행" },
            { "date": "2025.05.09", "event": "체육대회(1학년), 졸업앨범촬영(3학년)" },
            { "date": "2025.05.12", "event": "고2 수학여행 대체휴업일" },
            { "date": "2025.05.22", "event": "수업공개의 날" },
            { "date": "2025.05.28", "event": "학부모대상 교육과정설명회" }
        ],
        "2025-06": [
            { "date": "2025.06.03", "event": "대통령선거일" },
            { "date": "2025.06.04", "event": "고1,2 전국연합평가, 고3 모의평가" }
        ],
        "2025-07": [
            { "date": "2025.07.03 ~ 2025.07.08", "event": "2차 지필평가" },
            { "date": "2025.07.10", "event": "고3 전국연합평가" },
            { "date": "2025.07.11 ~ 2025.07.17", "event": "학교자율과정" },
            { "date": "2025.07.18", "event": "방학식" }
        ],
        "2025-08": [
            { "date": "2025.08.08", "event": "개학식" },
            { "date": "2025.08.27 ~ 2025.08.29", "event": "3학년 학부모 상담주간" }
        ],
        "2025-09": [
            { "date": "2025.09.03", "event": "1,2학년 전국연합평가, 3학년 대학수학능력시험 모의평가" },
            { "date": "2025.09.29 ~ 2025.10.02", "event": "1차지필평가" }
        ],
        "2025-10": [
            { "date": "2025.10.10", "event": "재량휴업일" },
            { "date": "2025.10.14", "event": "고1,2,3 전국연합평가" },
            { "date": "2025.10.15 ~ 2025.10.17", "event": "2학기 학부모 상담주간" },
            { "date": "2025.10.29", "event": "중3 대상 고입설명회" }
        ],
        "2025-11": [
            { "date": "2025.11.13", "event": "3학년 대학수학능력시험" }
        ],
        "2025-12": [
            { "date": "2025.12.12 ~ 2025.12.17", "event": "1,2학년 2차지필평가" },
            { "date": "2025.12.30", "event": "3학년 졸업식, 방학식" }
        ],
        "2026-01": [
            { "date": "-", "event": "없음" }
        ]
    };

    for (const [month, events] of Object.entries(scheduleData)) {
        const listEl = document.getElementById(`schedule-${month}`);
        if (!listEl) continue;
        events.forEach(({ date, event }) => {
            const li = document.createElement("li");
            li.textContent = `${date} - ${event}`;
            listEl.appendChild(li);
        });
    }

    document.getElementById("term-select").addEventListener("change", function () {
        const selected = this.value;
        document.querySelectorAll(".term-view").forEach(view => {
            view.classList.remove("active");
        });
        document.getElementById(selected).classList.add("active");

        
    });

    <section id="meal-plan-section" class="container text-center">
    <h2 class="mb-4">🍱 우리 학교 급식표</h2>
    <div class="meal-box mx-auto">
        <p id="meal-content">급식 정보를 불러오는 중입니다...</p>
    </div>
</section>

    const API_KEY = "22ee5606f6974dd98d68108d6646cda7"; 
    const EDU_OFFICE_CODE = "J10"; 
    const SCHOOL_CODE = "7531390"; 
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth() + 1).padStart(2, '0');
    const dd = String(today.getDate()).padStart(2, '0');
    const dateStr = `${yyyy}${mm}${dd}`; 
    const apiUrl = `https://open.neis.go.kr/hub/mealServiceDietInfo?KEY=${API_KEY}&Type=json&ATPT_OFCDC_SC_CODE=${EDU_OFFICE_CODE}&SD_SCHUL_CODE=${SCHOOL_CODE}&MLSV_YMD=${dateStr}`;
    async function fetchMealData() {
        try {
            const response = await fetch(apiUrl);
            if (!response.ok) throw new Error("급식 API 호출 실패");
            const data = await response.json();
            const mealInfo = data?.mealServiceDietInfo?.[1]?.row?.[0]?.DDISH_NM;
            if (mealInfo) {
                document.getElementById("meal-content").innerText = mealInfo.replace(/<br\/>/g, '\n');
            } else {
                document.getElementById("meal-content").innerText = "오늘은 급식이 없거나 정보를 불러올 수 없습니다.";
            }
        } catch (error) {
            document.getElementById("meal-content").innerText = '급식 정보를 불러오는 데 실패했습니다.';
            console.error(error);
        }
    }
    fetchMealData();

    function calculateDday(targetDateStr) {
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const targetDate = new Date(targetDateStr);
        targetDate.setHours(0, 0, 0, 0);
        const diff = Math.ceil((targetDate - today) / (1000 * 60 * 60 * 24));
        return diff >= 0 ? `D-${diff}` : `D+${Math.abs(diff)}`;
    }

    const ddayData = [
        { label: "9월 모의고사", date: "2025-09-03" },
        { label: "2025 수능", date: "2025-11-13" }
    ];

    const ddayList = document.getElementById("dday-list");
    if (ddayList) {
        ddayData.forEach(({ label, date }) => {
            const li = document.createElement("li");
            li.textContent = `${label}: ${calculateDday(date)}`;
            ddayList.appendChild(li);
        });
    }
</script>

</body>
</html>
